<!--
  Generated template for the ScannerPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar color="primary">
    <ion-title>
      Scanner
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="dismiss()">
        <span ion-text showWhen="ios">Cancel</span>
        <ion-icon name="md-close" showWhen="android, windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content no-scroll class="qrscanner">
  <div class="qrscanner-area" *ngIf="qrScannerStatus && qrScannerStatus.authorized; else noPermission">
  </div>
  <div class="button-bottom" *ngIf="qrScannerStatus && qrScannerStatus.authorized">
    <button (click)="toggleLight()" ion-fab class="text-uppercase">
      <ion-icon name="{{light ? 'flash' : 'ios-flash-outline'}}"></ion-icon>
    </button>
    <button (click)="toggleCamera()" ion-fab class="text-uppercase">
      <ion-icon name="{{ frontCamera ? 'reverse-camera' : 'ios-reverse-camera-outline'}}"></ion-icon>
    </button>
  </div>
  <ng-template #noPermission>
    <ion-card>
      <ion-card-content>
        Please grant the camera permission to be able to scan the qr.
        <!--TODO: Don't dismiss the page/modal and provide a button to re-attempt to grant the camera permission-->
      </ion-card-content>
    </ion-card>
  </ng-template>
</ion-content>
