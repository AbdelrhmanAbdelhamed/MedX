<ion-header>
</ion-header>

<ion-content class="ion-content">
    <ion-toolbar no-border-top>
        <ion-segment [(ngModel)]="page">
            <ion-segment-button value="info" translate>
               {{'historyPage.infoSegmet.title'}}
            </ion-segment-button>
            <ion-segment-button value="record" translate>
                {{'historyPage.recordSegment.title'}}
            </ion-segment-button>
        </ion-segment>
    </ion-toolbar>


    <div [ngSwitch]="page" *ngIf="ready">

        <ion-list *ngSwitchCase="'info'">
            <ion-grid>
                <ion-row>

                    <ion-item>

                        <ion-avatar style="margin:0 auto;" class="profile-picture hidden-sm-up" col-3>
                            <img style="height: 100%; width:100%" src="http://www.concordrusam.com/wp-content/uploads/2017/10/pro.jpg" />
                        </ion-avatar>
                        <ion-avatar item-end class="profile-picture hidden-sm-down" col-3>
                            <img style="height: 100%; width:100%" src="http://www.concordrusam.com/wp-content/uploads/2017/10/pro.jpg" />
                        </ion-avatar>

                        <div style="max-width: 1000px; margin: 0 auto;">
                            <ion-row class="data-item">
                                <span [class]="dir" translate> {{'historyPage.infoSegmet.name'}}</span>
                                <span> Roland Mendel</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span [class]="dir" translate> {{'historyPage.infoSegmet.address'}}</span>
                                <span> 120 Hanover Sq. London</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span [class]="dir" translate> {{'historyPage.infoSegmet.phone'}}</span>
                                <span> +20 012 345 6789</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span [class]="dir" translate> {{'historyPage.infoSegmet.eMail'}}</span>
                                <span> RolandMendel@gmail.com</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span [class]="dir" translate> {{'historyPage.infoSegmet.gender'}}</span>
                                <span> Male</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span [class]="dir" translate> {{'historyPage.infoSegmet.birthDate'}}</span>
                                <span> 4/16/1992</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span [class]="dir" translate> {{'historyPage.infoSegmet.maritalStatus'}}</span>
                                <span> single</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span [class]="dir" translate> {{'historyPage.infoSegmet.language'}}</span>
                                <span> English, French, Arabic</span>
                            </ion-row>
                        </div>


                    </ion-item>

                </ion-row>

                <ion-row no-padding>
                    <ion-col>
                        <h4 bold padding-left ion-text color="" translate>{{'historyPage.infoSegmet.allergiesTable.allergies'}}</h4>
                        <ion-card padding>

                            <ion-row>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.allergiesTable.category'}}</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.allergiesTable.age'}}</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.allergiesTable.occurrence'}}</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.allergiesTable.substance'}}</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.allergiesTable.severity'}}</ion-note>
                                </ion-col>
                            </ion-row>

                            <br>

                            <ion-row>
                                <ion-col>food</ion-col>
                                <ion-col>6</ion-col>
                                <ion-col>12/5/2008</ion-col>
                                <ion-col>Peanuts</ion-col>
                                <ion-col>moderate</ion-col>
                            </ion-row>

                        </ion-card>
                    </ion-col>
                </ion-row>

                <ion-row no-padding>
                    <ion-col>
                        <h4 bold padding-left ion-text color="" translate>{{'historyPage.infoSegmet.familyHestoryTable.familyHistory'}}</h4>
                        <ion-card padding>

                            <ion-row>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.familyHestoryTable.relative'}}</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.familyHestoryTable.relationship'}}</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.familyHestoryTable.gender'}}</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.familyHestoryTable.birthDate'}}</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.familyHestoryTable.deceasedAge'}}</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.familyHestoryTable.condition'}}</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note translate>{{'historyPage.infoSegmet.familyHestoryTable.onsetAge'}}</ion-note>
                                </ion-col>
                            </ion-row>
                            <br>

                            <ion-row>
                                <ion-col>Anie Mendal</ion-col>
                                <ion-col>Ant</ion-col>
                                <ion-col>Female</ion-col>
                                <ion-col>15/6/1961</ion-col>
                                <ion-col>55</ion-col>
                                <ion-col>Alzheimer</ion-col>
                                <ion-col>50</ion-col>
                            </ion-row>

                            <br>

                            <ion-row>
                                <ion-col>Molar Mendal</ion-col>
                                <ion-col>Cousin</ion-col>
                                <ion-col>Male</ion-col>
                                <ion-col>1/6/1981</ion-col>
                                <ion-col></ion-col>
                                <ion-col>Lung Cancer</ion-col>
                                <ion-col>30</ion-col>
                            </ion-row>
                            <br>
                        </ion-card>
                    </ion-col>
                </ion-row>

                <ion-row no-padding>

                    <ion-col col-12 col-lg-6>
                        <h4 bold padding-left ion-text color="" translate>{{'historyPage.infoSegmet.emergencyContactTable.title'}}</h4>
                        <ion-card padding>

                            <ion-row class="data-item">
                                <span translate>{{'historyPage.infoSegmet.emergencyContactTable.name'}}</span>
                                <span>Rolanda Mendel</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate>{{'historyPage.infoSegmet.emergencyContactTable.address'}}</span>
                                <span>120 Hanover Sq. London</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate>{{'historyPage.infoSegmet.emergencyContactTable.phone'}}</span>
                                <span>+20 012 345 6789</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate>{{'historyPage.infoSegmet.emergencyContactTable.gender'}}</span>
                                <span>Female</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate>{{'historyPage.infoSegmet.emergencyContactTable.relationship'}}</span>
                                <span>Spouse</span>
                            </ion-row>

                        </ion-card>
                    </ion-col>

                    <ion-col>
                        <h4 bold padding-left ion-text color="" translate>{{'historyPage.infoSegmet.vitalsTable.vitals'}}</h4>
                        <ion-card padding>
                            <ion-grid>
                                <ion-row class="data-item">
                                    <span translate>
                                        {{'historyPage.infoSegmet.vitalsTable.bloodType'}}
                                    </span>
                                    <span>
                                        A+
                                    </span>
                                </ion-row>
                                <ion-row class="data-item">
                                    <span translate>
                                        {{'historyPage.infoSegmet.vitalsTable.height'}}
                                    </span>
                                    <span>
                                        179 cm
                                    </span>
                                </ion-row>

                                <ion-row class="data-item">
                                    <span translate>
                                        {{'historyPage.infoSegmet.vitalsTable.weight'}}
                                    </span>
                                    <span>
                                        76 kg
                                    </span>
                                </ion-row>
                            </ion-grid>
                        </ion-card>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-list>

        <ion-list *ngSwitchCase="'record'">

            <ion-searchbar></ion-searchbar>
            <div *ngIf="hasRecords">
                <ion-list no-lines *ngIf="this.medications.meds.length>0">
                    <ion-card *ngFor="let medication of  this.medications.meds;let j = index">

                        <ion-card-header no-padding class="medHeader" (tap)="expand(0,j)">
                            <button ion-item [color]="this.medications.meds[j].expand ? 'primary' : 'light'">
                                <div item-end>
                                    <ion-icon name="ios-arrow-down" *ngIf="this.medications.meds[j].expand"></ion-icon>
                                    <ion-icon name="ios-arrow-back" *ngIf="!this.medications.meds[j].expand"></ion-icon>
                                </div>
                                Medicine : {{this.medications.meds[j].json.medicationReference.refrance}}
                            </button>
                        </ion-card-header>

                        <div padding *ngIf="this.medications.meds[j].expand" style="transition: visibility 0s, opacity 0.5s linear;">
                            <ion-row class="data-item">
                                <span translate>name/ID: </span>
                                <span>{{this.medications.meds[j].json.medicationReference.refrance}}</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate>method: </span>
                                <span>{{this.medications.meds[j].json.dosageInstruction[0].method.display}}</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate> instruction: </span>
                                <span>{{this.medications.meds[j].json.dosageInstruction[0].patientInstruction}}</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate>frequency: </span>
                                <span>{{this.medications.meds[j].json.dosageInstruction[0].timing.repeat.frequency}}</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate>period: </span>
                                <span>{{this.medications.meds[j].json.dosageInstruction[0].timing.repeat.period}}</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate>periodMax: </span>
                                <span>{{this.medications.meds[j].json.dosageInstruction[0].timing.repeat.periodMax}}</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate>periodUnit: </span>
                                <span>{{this.medications.meds[j].json.dosageInstruction[0].timing.repeat.periodUnit}}</span>
                            </ion-row>
                        </div>

                    </ion-card>
                </ion-list>

                <ion-list no-lines *ngIf="this.procedures.proc.length > 0">
                    <ion-card *ngFor="let procedure of this.procedures.proc ; let j = index">

                        <ion-card-header no-padding class="medHeader" (tap)="expand(1,j)">
                            <button ion-item [color]="this.procedures.proc[j].expand ? 'primary' : 'light'">
                                <div item-end>
                                    <ion-icon name="ios-arrow-down" *ngIf="this.procedures.proc[j].expand"></ion-icon>
                                    <ion-icon name="ios-arrow-back" *ngIf="!this.procedures.proc[j].expand"></ion-icon>
                                </div>
                                Surgery : {{this.procedures.proc[j].json.definition}}
                            </button>
                        </ion-card-header>

                        <div padding *ngIf="this.procedures.proc[j].expand">
                            <ion-row class="data-item">
                                <span translate>ID: </span>
                                <span>{{this.procedures.proc[j].json.identifier}}</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate>Name: </span>
                                <span>{{this.procedures.proc[j].json.definition}}</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span translate>description: </span>
                                <span>{{this.procedures.proc[j].json.context}}</span>
                            </ion-row>

                        </div>

                    </ion-card>
                </ion-list>

                <ion-list no-lines *ngIf="this.test.tests.length > 0">
                    <ion-card *ngFor="let t of this.test.tests ; let j = index">

                        <ion-card-header no-padding class="medHeader" (tap)="expand(2,j)">
                            <button ion-item [color]="this.test.tests[j].expand ? 'primary' : 'light'">
                                <div item-end>
                                    <ion-icon name="ios-arrow-down" *ngIf="this.test.tests[j].expand"></ion-icon>
                                    <ion-icon name="ios-arrow-back" *ngIf="!this.test.tests[j].expand"></ion-icon>
                                </div>
                                Test : {{this.test.tests[j].json.definition}}
                            </button>
                        </ion-card-header>

                        <div padding *ngIf="this.test.tests[j].expand">
                            <ion-row class="data-item">
                                <span>ID: </span>
                                <span>{{this.test.tests[j].json.identifier}}</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span>Name: </span>
                                <span>{{this.test.tests[j].json.definition}}</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span>Description: </span>
                                <span>{{this.test.tests[j].json.context}}</span>
                            </ion-row>
                        </div>




                    </ion-card>
                </ion-list>


            </div>

        </ion-list>

    </div>

    <ion-fab bottom right #fab>
        <button ion-fab>
            <ion-icon name="md-add"></ion-icon>
        </button>
        <ion-fab-list side="top">
            <button ion-fab (click)="openPrescription()">
                <ion-label>Prescription</ion-label>
                <ion-icon name="ios-create"></ion-icon>
            </button>
            <button ion-fab (click)="openTemplate()">
                <ion-label>Template</ion-label>
                <ion-icon name="md-create"></ion-icon>
            </button>


        </ion-fab-list>
    </ion-fab>

</ion-content>