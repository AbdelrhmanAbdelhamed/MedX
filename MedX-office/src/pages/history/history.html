<ion-header>
</ion-header>

<ion-content class="ion-content">
    <ion-toolbar no-border-top>
        <ion-segment [(ngModel)]="page">
            <ion-segment-button value="info">
                Info
            </ion-segment-button>
            <ion-segment-button value="record">
                Records
            </ion-segment-button>
        </ion-segment>
    </ion-toolbar>


    <div [ngSwitch]="page">

        <ion-list *ngSwitchCase="'info'">
            <ion-grid>
                <ion-row>

                    <ion-item>

                        <ion-avatar style="margin:0 auto;" class="profile-picture hidden-sm-up" col-3>
                            <img style="height: 100%; width:100%" src="http://www.concordrusam.com/wp-content/uploads/2017/10/pro.jpg" />
                        </ion-avatar>
                        <ion-avatar item-end class="profile-picture hidden-sm-down" col-3>
                            <img style="height: 100%; width:100%" src="http://www.concordrusam.com/wp-content/uploads/2017/10/pro.jpg" />
                        </ion-avatar>

                        <div style="max-width: 1000px; margin: 0 auto;">
                            <ion-row class="data-item">
                                <span> Name:</span>
                                <span> Roland Mendel</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span> Address:</span>
                                <span> 120 Hanover Sq. London</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span> Phone:</span>
                                <span> +20 012 345 6789</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span> E-mail:</span>
                                <span> RolandMendel@gmail.com</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span> Gender:</span>
                                <span> Male</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span> Birth Date:</span>
                                <span> 4/16/1992</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span> Marital Status:</span>
                                <span> single</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span> Language:</span>
                                <span> English, French, Arabic</span>
                            </ion-row>
                        </div>


                    </ion-item>

                </ion-row>

                <ion-row no-padding>
                    <ion-col>
                        <h4 bold padding-left ion-text color="">Allergies</h4>
                        <ion-card padding>

                            <ion-row>
                                <ion-col>
                                    <ion-note>category</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note>onset Age</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note>last Occurrence</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note>substance</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note>severity</ion-note>
                                </ion-col>
                            </ion-row>

                            <br>

                            <ion-row>
                                <ion-col>food</ion-col>
                                <ion-col>6</ion-col>
                                <ion-col>12/5/2008</ion-col>
                                <ion-col>Peanuts</ion-col>
                                <ion-col>moderate</ion-col>
                            </ion-row>

                        </ion-card>
                    </ion-col>
                </ion-row>

                <ion-row no-padding>
                    <ion-col>
                        <h4 bold padding-left ion-text color="">Family History</h4>
                        <ion-card padding>

                            <ion-row>
                                <ion-col>
                                    <ion-note>Relative</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note>relationship</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note>Gender</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note>BirthDate</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note>deceasedAge</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note>Condition</ion-note>
                                </ion-col>
                                <ion-col>
                                    <ion-note>onset Age</ion-note>
                                </ion-col>
                            </ion-row>
                            <br>

                            <ion-row>
                                <ion-col>Anie Mendal</ion-col>
                                <ion-col>Ant</ion-col>
                                <ion-col>Female</ion-col>
                                <ion-col>15/6/1961</ion-col>
                                <ion-col>55</ion-col>
                                <ion-col>Alzheimer</ion-col>
                                <ion-col>50</ion-col>
                            </ion-row>

                            <br>

                            <ion-row>
                                <ion-col>Molar Mendal</ion-col>
                                <ion-col>Cousin</ion-col>
                                <ion-col>Male</ion-col>
                                <ion-col>1/6/1981</ion-col>
                                <ion-col></ion-col>
                                <ion-col>Lung Cancer</ion-col>
                                <ion-col>30</ion-col>
                            </ion-row>
                            <br>
                        </ion-card>
                    </ion-col>
                </ion-row>

                <ion-row no-padding>

                    <ion-col col-12 col-lg-6>
                        <h4 bold padding-left ion-text color="">Emergency Contact</h4>
                        <ion-card padding>

                            <ion-row class="data-item">
                                <span>Name:</span>
                                <span>Rolanda Mendel</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span>Address:</span>
                                <span>120 Hanover Sq. London</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span>Phone:</span>
                                <span>+20 012 345 6789</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span>Gender:</span>
                                <span>Female</span>
                            </ion-row>
                            <ion-row class="data-item">
                                <span>Relationship:</span>
                                <span>Spouse</span>
                            </ion-row>

                        </ion-card>
                    </ion-col>

                    <ion-col>
                        <h4 bold padding-left ion-text color="">Vitals</h4>
                        <ion-card padding>
                            <ion-grid>
                                <ion-row class="data-item">
                                    <span>
                                        Blood Type:
                                    </span>
                                    <span>
                                        A+
                                    </span>
                                </ion-row>
                                <ion-row class="data-item">
                                    <span>
                                        Height:
                                    </span>
                                    <span>
                                        179 cm
                                    </span>
                                </ion-row>

                                <ion-row class="data-item">
                                    <span>
                                        Weight:
                                    </span>
                                    <span>
                                        76 kg
                                    </span>
                                </ion-row>
                            </ion-grid>
                        </ion-card>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-list>

        <ion-list *ngSwitchCase="'record'">

            <ion-searchbar></ion-searchbar>
             <div *ngIf="hasRecords">
            <ion-list no-lines *ngIf="this.medications.meds.length>0">
                <ion-card *ngFor="let medication of  this.medications.meds;let i = index">
                  <ion-card-header class="medHeader" (tap)="expand(0,i)">
                    <ion-row>
                      <ion-col>
                        <ion-label>Medicine : {{this.medications.meds[i].json.medicationReference.refrance}}</ion-label>
                      </ion-col>
                      <ion-col *ngIf="!this.medications.meds[i].expand">
                        <button ion-button  icon-only clear class="headerButton" >
                          <ion-icon  class="headerIcon" name="ios-arrow-back"></ion-icon>
                        </button>
                      </ion-col>
                      <ion-col *ngIf="this.medications.meds[i].expand">
                        <button ion-button  icon-only clear class="headerButton" >
                          <ion-icon  class="headerIcon-open" name="ios-arrow-down"></ion-icon>
                        </button>
                      </ion-col>
                    </ion-row>
            
                  </ion-card-header>
                  <div class="cardContent" *ngIf="this.medications.meds[i].expand">
                    <ion-label color="primary" stacked>medicines name/ID</ion-label>
                    <ion-input [(ngModel)]="this.medications.meds[i].json.medicationReference.refrance" [readonly]="true" ></ion-input>
                    <ion-label color="primary" stacked>method</ion-label>
                    <ion-input [(ngModel)]="this.medications.meds[i].json.dosageInstruction[0].method.display"[readonly]="true" ></ion-input>
                    <ion-label color="primary" stacked>Instruction</ion-label>
                    <ion-input [(ngModel)]="this.medications.meds[i].json.dosageInstruction[0].patientInstruction" [readonly]="true" ></ion-input>
                    <ion-label color="primary" stacked>frequency</ion-label>
                    <ion-input [(ngModel)]="this.medications.meds[i].json.dosageInstruction[0].timing.repeat.frequency"[readonly]="true" ></ion-input>
                    <ion-label color="primary" stacked>period</ion-label>
                    <ion-input [(ngModel)]="this.medications.meds[i].json.dosageInstruction[0].timing.repeat.period" [readonly]="true" ></ion-input>
                    <ion-label color="primary" stacked>periodMax</ion-label>
                    <ion-input [(ngModel)]="this.medications.meds[i].json.dosageInstruction[0].timing.repeat.periodMax" [readonly]="true" ></ion-input>
                    <ion-label color="primary" stacked>periodUnit</ion-label>
                    <ion-input [(ngModel)]="this.medications.meds[i].json.dosageInstruction[0].timing.repeat.periodUnit" [readonly]="true" ></ion-input>
                    
                </div>
                  
                </ion-card>
              </ion-list>

              <ion-list no-lines *ngIf="this.procedures.proc.length>0">
                <ion-card *ngFor="let procedure of this.procedures.proc ; let j = index">
            
                        <ion-card-header class="medHeader" (tap)="expand(1,j)">
                                <ion-row>
                                  <ion-col>
                                    <ion-label>Surgery : {{this.procedures.proc[j].json.definition}}</ion-label>
                                  </ion-col>
                                  <ion-col *ngIf="!this.procedures.proc[j].expand">
                                    <button ion-button  icon-only clear class="headerButton" >
                                      <ion-icon class="headerIcon" name="ios-arrow-back"></ion-icon>
                                    </button>
                                  </ion-col>
                                  <ion-col *ngIf="this.procedures.proc[j].expand">
                                    <button ion-button  icon-only clear class="headerButton" >
                                      <ion-icon class="headerIcon-open" name="ios-arrow-down"></ion-icon>
                                    </button>
                                  </ion-col>
                                </ion-row>
                        
                              </ion-card-header>
            
            
                              <div class="cardContent" *ngIf="this.procedures.proc[j].expand">
                                    <ion-label color="primary" stacked>Surgery ID</ion-label>
                                    <ion-input [(ngModel)]="this.procedures.proc[j].json.identifier"[readonly]="true"></ion-input>
                                    <ion-label color="primary" stacked>Surgery Name</ion-label>
                                    <ion-input [(ngModel)]="this.procedures.proc[j].json.definition"  [readonly]="true"></ion-input>
                                    <ion-label color="primary" stacked>Surgery description</ion-label>
                                    <ion-input [(ngModel)]="this.procedures.proc[j].json.context"  [readonly]="true"></ion-input>
                                   
                                </div>
            
            
            
                </ion-card>
              </ion-list>


              <ion-list no-lines *ngIf="this.test.tests.length>0">
                <ion-card *ngFor="let t of this.test.tests ; let j = index">
            
                        <ion-card-header class="medHeader" (tap)="expand(2,j)">
                                <ion-row>
                                  <ion-col>
                                    <ion-label>Test : {{this.test.tests[j].json.definition}}</ion-label>
                                  </ion-col>
                                  <ion-col *ngIf="!this.test.tests[j].expand">
                                    <button ion-button  icon-only clear class="headerButton" >
                                      <ion-icon  class="headerIcon" name="ios-arrow-back"></ion-icon>
                                    </button>
                                  </ion-col>
                                  <ion-col *ngIf="this.test.tests[j].expand">
                                    <button ion-button  icon-only clear class="headerButton" >
                                      <ion-icon  class="headerIcon-open" name="ios-arrow-down"></ion-icon>
                                    </button>
                                  </ion-col>
                                </ion-row>
                        
                              </ion-card-header>
            
            
                              <div class="cardContent" *ngIf="this.test.tests[j].expand">
                                    <ion-label color="primary" stacked>Test ID</ion-label>
                                    <ion-input [(ngModel)]="this.test.tests[j].json.identifier" [readonly]="true"></ion-input>
                                    <ion-label color="primary" stacked>Test Name</ion-label>
                                    <ion-input [(ngModel)]="this.test.tests[j].json.definition"  [readonly]="true"></ion-input>
                                    <ion-label color="primary" stacked>Test description</ion-label>
                                    <ion-input [(ngModel)]="this.test.tests[j].json.context"  [readonly]="true"></ion-input>
                                    
                                </div>
            
            
            
                </ion-card>
              </ion-list>

            
              </div>
            <!--    MAGDY  -->
        </ion-list>

    </div>

    <ion-fab bottom right #fab>
        <button ion-fab>
            <ion-icon name="md-add"></ion-icon>
        </button>
        <ion-fab-list side="top">
            <button ion-fab (click)="openPrescription()">
                <ion-label>Prescription</ion-label>
                <ion-icon name="ios-create"></ion-icon>
            </button>
            <button ion-fab (click)="openTemplate()">
                <ion-label>Template</ion-label>
                <ion-icon name="md-create"></ion-icon>
            </button>


        </ion-fab-list>
    </ion-fab>

</ion-content>